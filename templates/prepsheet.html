<!DOCTYPE html>
<html>
<head>
    <title>PrepMate - Doctor Visit Prep Sheet</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 20px; }
        .container { max-width: 800px; margin: auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1, h2 { color: #0056b3; border-bottom: 2px solid #e7e7e7; padding-bottom: 10px; margin-top: 20px; }
        h1 { text-align: center; }
        .section { margin-bottom: 20px; }
        .section p { margin: 5px 0; }
        .label { font-weight: bold; color: #0056b3; }
        ul { list-style-type: disc; margin-left: 20px; }
        li { margin-bottom: 5px; }
        .disclaimer { margin-top: 30px; padding: 15px; background: #ffe0b2; border-left: 5px solid #ff9800; color: #333; font-size: 0.9em; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Doctor Visit Preparation Sheet</h1>

        <div class="section">
            <h2>Patient Information</h2>
            <p><span class="label">Name:</span> {{ patient_info.name }}</p>
            <p><span class="label">Age:</span> {{ patient_info.age }}</p>
            <p><span class="label">Gender:</span> {{ patient_info.gender }}</p>
            <p><span class="label">Allergies:</span> {{ patient_info.allergies }}</p>
            <p><span class="label">Current Medications:</span> {{ patient_info.medications }}</p>
        </div>

        <div class="section">
            <h2>Symptom Summary</h2>
            <p>{{ ai_summary }}</p>
        </div>

        <div class="section">
            <h2>Answers to Clarifying Questions</h2>
            <ul>
                {% for question, answer in followup_answers.items() %}
                <li><span class="label">{{ question }}:</span> {{ answer }}</li>
                {% endfor %}
            </ul>
        </div>

        {% if 'pregnant' in ai_summary.lower() or 'pregnancy' in ai_summary.lower() or 'expecting' in ai_summary.lower() or 'maternity' in ai_summary.lower() %}
        <div class="section">
            <h2>Important Note (Pregnancy Related)</h2>
            <p>Based on the information provided, please discuss any pregnancy-related concerns with your doctor. This prep sheet is not a substitute for professional medical advice.</p>
        </div>
        {% endif %}

        <div class="disclaimer">
            <strong>Disclaimer:</strong> This Prep Sheet is generated by an AI assistant and is intended for informational purposes only to help you prepare for your doctor's visit. It is not medical advice. Always consult with a qualified healthcare professional for any health concerns or before making any decisions related to your health or treatment.
        </div>
    </div>
</body>
</html>
